<div class="nav" th:fragment="navbar">
    <a class="logo" href="/">HyoTechMall</a>
    <a href="/list/page/1">상품 목록</a>
    <a href="/info">공지사항</a>

    <div th:if="${userLevel != null and 2 >= userLevel}">
        <a href="/write">상품 등록</a>
        <a href="/order/all">주문 내역</a>
    </div>

    <div class="right">
        <div th:if="${userLevel == null}">
            <a href="/login"><img src="/images/login-icon.png" alt="Login Icon" width="50" height="50"></a>
        </div>
    </div>

    <div sec:authorize="isAuthenticated()">
        <a href="/my-page" id="username" sec:authentication="principal.username"></a>
        <a href="/logout">로그아웃</a>
    </div>
</div>

<script>
    window.onload = function() {
        const usernameElement = document.getElementById('username');
        if (usernameElement) {
            console.log("로그인된 사용자: " + usernameElement.textContent);
        } else {
            console.log("사용자가 로그인되지 않았습니다.");
        }
    }
</script>